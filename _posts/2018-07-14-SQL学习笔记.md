---
layout:     post
title:      MySQL系列(1)
subtitle:   SQL学习笔记——以Dognition公司为例
date:       2018-07-14
author:     ZF
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - SQL
    - Runtime
--- 
![](http://m.qpic.cn/psb?/V12j1VvP2SOs2p/dOe6ehq9qk6XSWJWpUtwhW3jY2SH2JwzWQzf7TRYubs!/b/dAgBAAAAAAAA&bo=dAQ4BAAAAAARF2w!&rf=viewer_4)
而在当下几TB的数据集实例的时代，传统的EXCEL数据管理模式已经无法支持此规模的数据管理，数据库管理（Databse Management）成为比较重要的一个环节，其中包括MySQL、Oracle、Access等数据库管理系统。MySQL（官方发音为/maɪ ˌɛskjuːˈɛl/“My S-Q-L”[1]，但也经常读作/maɪ ˈsiːkwəl/“My Sequel”）原本是一个开放源代码的关系数据库管理系统，原开发者为瑞典的MySQL AB公司，该公司于2008年被昇阳微系统（Sun Microsystems）收购。2009年，甲骨文公司（Oracle）收购昇阳微系统公司，MySQL成为Oracle旗下产品。MySQL由于性能高、成本低、可靠性好，已经成为最流行的开源数据库，因此被广泛地应用在Internet上的中小型网站中。随着MySQL的不断成熟，它也逐渐用于更多大规模网站和应用，比如维基百科、Google和Facebook等网站。非常流行的开源软件组合LAMP中的“M”指的就MySQL。数据分析最重要的工作莫过于提取和管理数据，本文以Dognition公司的数据库为例，简要介绍一下SQL语句的基本语法。

## 一、准备工作
# 加载sql模块
      $ %load_ext sql

# 连接数据库
      $ %sql mysql://studentuser:studentpw@mysqlserver/dognitiondb

# 设置dognitiondb为默认数据库
      $ %sql USE dognitiondb 

## 二、基本查询
# SQL语句的基本结构
![](http://m.qpic.cn/psb?/V12j1VvP2SOs2p/4H95EA.opPCAN.bWQ5GH3LdrwNwZWOgNgExxj*ol1RQ!/b/dDEBAAAAAAAA&bo=6AT.AgAAAAARFzA!&rf=viewer_4)
# 查询数据库中的表
      $ %sql SHOW tables

# 查询dogs表中含有的列
      $ %sql SHOW columns FROM dogs
        %sql SHOW columns FROM dogs FROM dognitiondb
        %sql SHOW columns FROM dognitiondb.dogs
        %sql DESCRIBE dogs

# 用换行写SQL语句，需要%%sql
      $ %%sql
        SELECT breed
        FROM dogs;

# 为了限制输出行数，使用LIMIT语句
      $ %%sql
        SELECT breed
        FROM dogs LIMIT 5;        ##输出dogs表breed列前5行记录

      $ %%sql
        SELECT breed
        FROM dogs LIMIT 10 OFFSET 5;            ##输出dogs表breed列第6行开始的10条记录

# 在同一个表中查询多列
      $ %%sql
        SELECT breed,breed_type,breed_group
        FROM dogs LIMIT 5,10;

# 查询一个表中的所有列
      $ %%sql
        SELECT *
        FROM reviews LIMIT 5,10;

## 三、用WHERE语句限制查询条件
# 查询某个数值型属性符合一定条件的记录
      $ %%sql
        SELECT user_guid,free_start_user
        FROM users
        WHERE free_start_user=1 LIMIT 10;

        SELECT dog_guid,weight
        FROM dogs
        WHERE weight BETWEEN 10 AND 50;

        SELECT dog_guid,dog_fixed,dna_tested
        FROM dogs
        WHERE dog_fixed=1 OR dna_tested=1;

        SELECT dog_guid,dog_fixed,dna_tested
        FROM dogs
        WHERE dog_fixed=1 AND dna_tested!=1;

## 查询某个字符串属性符合一定条件的记录
      $ %%sql
        SELECT dog_guid,breed
        FROM dogs
        WHERE breed=‘golden retriever’;

        SELECT dog_guid,breed
        FROM dogs
        WHERE breed IN(“golden retriever”,”poodle”);

        SELECT dog_guid,breed
        FROM dogs
        WHERE breed LIKE(“s%”);

## 查询某个日期属性符合一定条件的记录
      $ %%sql
        SELECT dog_guid,created_at
        FROM complete_tests
        WHERE DAYNAME(created_at)=“Tuesday ”

        SELECT dog_guid,created_at
        FROM complete_tests
        WHERE DAY(created_at)>15

        SELECT dog_guid,created_at
        FROM complete_tests
        WHERE created_at>’2014-02-04’

        SELECT dog_guid,test_name,subcategory_name
        FROM complete_tests
        WHERE YEAR(created_at)='2014' AND MONTH(created_at)='10'

## 查询某个属性有空值/没有空值的记录
      $ %%sql
        SELECT user_guid
        FROM users
        WHERE free_start_user IS NOT NULL

        SELECT user_guid
        FROM users
        WHERE free_start_user IS NULL



逻辑语句的执行顺序 1.NOT 2.AND 3.OR
